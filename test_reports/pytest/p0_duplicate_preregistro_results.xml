<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="3" skipped="10" tests="15" time="1.768" timestamp="2026-02-01T09:50:41.969926+00:00" hostname="agent-env-d95a81bd-5912-4844-b673-c65fe18aa0c2"><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_01_resident_creates_temporary_authorization" time="0.398"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:74: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_02_guard_sees_authorization_in_pending_list" time="0.040"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:104: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_03_first_checkin_returns_200" time="0.038"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:120: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_04_second_checkin_returns_409" time="0.036"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:138: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_05_authorization_not_in_pending_list_after_checkin" time="0.035"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:159: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_06_entry_appears_in_entries_today" time="0.031"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:175: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_07_permanent_authorization_multiple_checkins" time="0.049"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:191: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_08_diagnose_authorizations_endpoint" time="0.035"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:236: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_09_cleanup_authorizations_endpoint" time="0.033"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:251: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestP0DuplicatePreregistro" name="test_10_include_used_parameter" time="0.037"><skipped type="pytest.skip" message="Resident login failed: 401 - {&quot;detail&quot;:&quot;Invalid email or password&quot;}">/app/backend/tests/test_p0_duplicate_preregistro.py:267: Resident login failed: 401 - {"detail":"Invalid email or password"}</skipped></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestExtendedAuthorization" name="test_01_create_extended_authorization" time="0.328"><failure message="AssertionError: Expected 201, got 401: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 201&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_p0_duplicate_preregistro.py:336: in test_01_create_extended_authorization
    assert response.status_code == 201, f"Expected 201, got {response.status_code}: {response.text}"
E   AssertionError: Expected 201, got 401: {"detail":"Invalid or expired token"}
E   assert 401 == 201
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestExtendedAuthorization" name="test_02_first_checkin_extended_succeeds" time="0.065" /><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestExtendedAuthorization" name="test_03_second_checkin_extended_blocked" time="0.067"><failure message="AssertionError: Expected 409, got 200: {&quot;success&quot;:true,&quot;entry&quot;:{&quot;id&quot;:&quot;2d49a3e8-34a6-4e4a-8c28-4787c3c536f4&quot;,&quot;authorization_id&quot;:null,&quot;visitor_name&quot;:&quot;Visitante Manual&quot;,&quot;identification_number&quot;:null,&quot;vehicle_plate&quot;:null,&quot;destination&quot;:null,&quot;authorization_type&quot;:&quot;manual&quot;,&quot;color_code&quot;:&quot;gray&quot;,&quot;is_authorized&quot;:false,&quot;resident_id&quot;:null,&quot;resident_name&quot;:null,&quot;resident_apartment&quot;:null,&quot;entry_at&quot;:&quot;2026-02-01T09:50:43.248914+00:00&quot;,&quot;entry_by&quot;:&quot;5597e5e1-1824-4826-a806-1857f0efafa1&quot;,&quot;entry_by_name&quot;:&quot;Juan Pérez&quot;,&quot;entry_notes&quot;:&quot;Second check-in for extended - should fail&quot;,&quot;exit_at&quot;:null,&quot;exit_by&quot;:null,&quot;exit_by_name&quot;:null,&quot;exit_notes&quot;:null,&quot;status&quot;:&quot;inside&quot;,&quot;condominium_id&quot;:&quot;46b9d344-a735-443a-8c9c-0e3d69c07824&quot;,&quot;created_at&quot;:&quot;2026-02-01T09:50:43.248914+00:00&quot;},&quot;is_authorized&quot;:false,&quot;message&quot;:&quot;Entrada registrada (sin autorización válida)&quot;,&quot;authorization_marked_used&quot;:false}&#10;assert 200 == 409&#10; +  where 200 = &lt;Response [200]&gt;.status_code">backend/tests/test_p0_duplicate_preregistro.py:369: in test_03_second_checkin_extended_blocked
    assert response.status_code == 409, f"Expected 409, got {response.status_code}: {response.text}"
E   AssertionError: Expected 409, got 200: {"success":true,"entry":{"id":"2d49a3e8-34a6-4e4a-8c28-4787c3c536f4","authorization_id":null,"visitor_name":"Visitante Manual","identification_number":null,"vehicle_plate":null,"destination":null,"authorization_type":"manual","color_code":"gray","is_authorized":false,"resident_id":null,"resident_name":null,"resident_apartment":null,"entry_at":"2026-02-01T09:50:43.248914+00:00","entry_by":"5597e5e1-1824-4826-a806-1857f0efafa1","entry_by_name":"Juan Pérez","entry_notes":"Second check-in for extended - should fail","exit_at":null,"exit_by":null,"exit_by_name":null,"exit_notes":null,"status":"inside","condominium_id":"46b9d344-a735-443a-8c9c-0e3d69c07824","created_at":"2026-02-01T09:50:43.248914+00:00"},"is_authorized":false,"message":"Entrada registrada (sin autorización válida)","authorization_marked_used":false}
E   assert 200 == 409
E    +  where 200 = &lt;Response [200]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestRecurringAuthorization" name="test_01_create_recurring_authorization" time="0.331"><failure message="AssertionError: Expected 201, got 401: {&quot;detail&quot;:&quot;Invalid or expired token&quot;}&#10;assert 401 == 201&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_p0_duplicate_preregistro.py:423: in test_01_create_recurring_authorization
    assert response.status_code == 201, f"Expected 201, got {response.status_code}: {response.text}"
E   AssertionError: Expected 201, got 401: {"detail":"Invalid or expired token"}
E   assert 401 == 201
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_p0_duplicate_preregistro.TestRecurringAuthorization" name="test_02_recurring_allows_multiple_checkins" time="0.141" /></testsuite></testsuites>