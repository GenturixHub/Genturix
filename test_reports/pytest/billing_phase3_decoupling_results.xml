<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="4" skipped="0" tests="27" time="3.895" timestamp="2026-02-26T21:53:05.104130+00:00" hostname="agent-env-43638c86-f26d-4f34-a4cd-34daaf611925"><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSchedulerEndpoints" name="test_scheduler_status" time="1.596" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSchedulerEndpoints" name="test_scheduler_run_now" time="0.064" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSchedulerEndpoints" name="test_scheduler_history" time="0.078" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingPreview" name="test_billing_preview_monthly" time="0.080" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingPreview" name="test_billing_preview_yearly" time="0.068" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestPaymentEndpoints" name="test_confirm_payment_invalid_condo" time="0.094" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestPaymentEndpoints" name="test_confirm_payment_validation" time="0.230" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestPaymentEndpoints" name="test_payment_history_list" time="0.100" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestPaymentEndpoints" name="test_payment_history_by_condo" time="0.070"><failure message="AssertionError: Expected array of payment history&#10;assert False&#10; +  where False = isinstance({'condominium_id': '3d310df7-8171-46d0-aa98-22c5c2bbfa5d', 'condominium_name': 'Yearly Condo 03226c80', 'current_status': 'pending_payment', 'payments': [], ...}, list)">backend/tests/test_billing_phase3_decoupling.py:240: in test_payment_history_by_condo
    assert isinstance(data, list), "Expected array of payment history"
E   AssertionError: Expected array of payment history
E   assert False
E    +  where False = isinstance({'condominium_id': '3d310df7-8171-46d0-aa98-22c5c2bbfa5d', 'condominium_name': 'Yearly Condo 03226c80', 'current_status': 'pending_payment', 'payments': [], ...}, list)</failure></testcase><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingBalance" name="test_billing_balance" time="0.064" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingBalance" name="test_billing_balance_not_found" time="0.068" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSeatManagement" name="test_seat_status" time="0.064"><failure message="AssertionError: Missing condominium_id&#10;assert 'condominium_id' in {'billing_status': 'pending_payment', 'can_create': True, 'current_users': 1, 'paid_seats': 100, ...}">backend/tests/test_billing_phase3_decoupling.py:300: in test_seat_status
    assert "condominium_id" in data, "Missing condominium_id"
E   AssertionError: Missing condominium_id
E   assert 'condominium_id' in {'billing_status': 'pending_payment', 'can_create': True, 'current_users': 1, 'paid_seats': 100, ...}</failure></testcase><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSeatManagement" name="test_update_seats_validation" time="0.067" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSeatUpgradeWorkflow" name="test_upgrade_requests_list" time="0.061" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSeatUpgradeWorkflow" name="test_request_seat_upgrade_requires_admin" time="0.059" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestSeatUpgradeWorkflow" name="test_approve_upgrade_invalid_id" time="0.078" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingOverview" name="test_billing_overview" time="0.075"><failure message="AssertionError: Missing pagination.total&#10;assert 'total' in {'has_next': False, 'has_prev': False, 'page': 1, 'page_size': 50, ...}">backend/tests/test_billing_phase3_decoupling.py:398: in test_billing_overview
    assert "total" in pagination, "Missing pagination.total"
E   AssertionError: Missing pagination.total
E   assert 'total' in {'has_next': False, 'has_prev': False, 'page': 1, 'page_size': 50, ...}</failure></testcase><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingOverview" name="test_billing_overview_pagination" time="0.076" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingOverview" name="test_billing_overview_filter" time="0.070" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestGracePeriod" name="test_update_grace_period" time="0.139" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestGracePeriod" name="test_update_grace_period_validation" time="0.068" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestAccessControl" name="test_scheduler_requires_auth" time="0.090" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestAccessControl" name="test_billing_overview_requires_auth" time="0.076" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestAccessControl" name="test_payments_requires_auth" time="0.070" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingModuleImports" name="test_billing_info_endpoint" time="0.111" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingModuleImports" name="test_can_create_user_endpoint" time="0.062" /><testcase classname="backend.tests.test_billing_phase3_decoupling.TestBillingModuleImports" name="test_billing_events" time="0.083"><failure message="AssertionError: Expected array of events&#10;assert False&#10; +  where False = isinstance({'condominium_id': '3d310df7-8171-46d0-aa98-22c5c2bbfa5d', 'events': [{'condominium_id': '3d310df7-8171-46d0-aa98-22c5c2bbfa5d', 'created_at': '2026-02-26T15:48:58.949917+00:00', 'data': {'billing_cycle': 'yearly', 'billing_provider': 'stripe', 'effective_amount': 3229.2, 'monthly_amount': 299.0, ...}, 'event_type': 'condominium_created', ...}], 'total': 1}, list)">backend/tests/test_billing_phase3_decoupling.py:537: in test_billing_events
    assert isinstance(data, list), "Expected array of events"
E   AssertionError: Expected array of events
E   assert False
E    +  where False = isinstance({'condominium_id': '3d310df7-8171-46d0-aa98-22c5c2bbfa5d', 'events': [{'condominium_id': '3d310df7-8171-46d0-aa98-22c5c2bbfa5d', 'created_at': '2026-02-26T15:48:58.949917+00:00', 'data': {'billing_cycle': 'yearly', 'billing_provider': 'stripe', 'effective_amount': 3229.2, 'monthly_amount': 299.0, ...}, 'event_type': 'condominium_created', ...}], 'total': 1}, list)</failure></testcase></testsuite></testsuites>