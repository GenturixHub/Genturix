<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="10" skipped="0" tests="11" time="4.367" timestamp="2026-02-28T23:22:57.506082+00:00" hostname="agent-env-cff89a53-698d-4997-87da-846eac554397"><testcase classname="backend.tests.test_push_and_identity_bugs.TestIdentityBug" name="test_admin_logout_resident_login_different_profile" time="0.499"><failure message="AssertionError: Admin profile failed: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;dfbfa8c0-70e7-4d9a-8912-9ac64d9069e7&quot;}&#10;assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:64: in test_admin_logout_resident_login_different_profile
    assert admin_profile.status_code == 200, f"Admin profile failed: {admin_profile.text}"
E   AssertionError: Admin profile failed: {"error":"Not authenticated","detail":"Not authenticated","request_id":"dfbfa8c0-70e7-4d9a-8912-9ac64d9069e7"}
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestIdentityBug" name="test_resident_logout_guard_login_different_profile" time="0.414"><failure message="assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:107: in test_resident_logout_guard_login_different_profile
    assert resident_profile.status_code == 200
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushValidateSubscriptions" name="test_validate_subscriptions_dry_run_true" time="0.419"><failure message="AssertionError: Expected 200, got 403: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;62dc6d38-5e18-443d-99a1-5e8b80e22f68&quot;}&#10;assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:168: in test_validate_subscriptions_dry_run_true
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 403: {"error":"Not authenticated","detail":"Not authenticated","request_id":"62dc6d38-5e18-443d-99a1-5e8b80e22f68"}
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushValidateSubscriptions" name="test_validate_subscriptions_requires_superadmin" time="0.421" /><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushValidateSubscriptions" name="test_validate_subscriptions_dry_run_false" time="0.386"><failure message="assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:212: in test_validate_subscriptions_dry_run_false
    assert dry_response.status_code == 200
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushValidateUserSubscription" name="test_validate_user_subscription_resident" time="0.392"><failure message="AssertionError: Expected 200, got 403: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;8fe8df0a-12a9-49f5-95da-124fbdd156cd&quot;}&#10;assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:266: in test_validate_user_subscription_resident
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 403: {"error":"Not authenticated","detail":"Not authenticated","request_id":"8fe8df0a-12a9-49f5-95da-124fbdd156cd"}
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushValidateUserSubscription" name="test_validate_user_subscription_admin" time="0.414"><failure message="AssertionError: Expected 200, got 403: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;b668eb03-37e7-4ff2-b3a4-57f1ec9a7ad1&quot;}&#10;assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:289: in test_validate_user_subscription_admin
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 403: {"error":"Not authenticated","detail":"Not authenticated","request_id":"b668eb03-37e7-4ff2-b3a4-57f1ec9a7ad1"}
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushStatus" name="test_push_status_endpoint" time="0.388"><failure message="AssertionError: Expected 200, got 403: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;2820885f-23a6-4a11-9f8f-55b0e676dce4&quot;}&#10;assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:320: in test_push_status_endpoint
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 403: {"error":"Not authenticated","detail":"Not authenticated","request_id":"2820885f-23a6-4a11-9f8f-55b0e676dce4"}
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushStatus" name="test_push_status_requires_auth" time="0.114"><failure message="AssertionError: Expected 401, got 403&#10;assert 403 == 401&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:341: in test_push_status_requires_auth
    assert response.status_code == 401, f"Expected 401, got {response.status_code}"
E   AssertionError: Expected 401, got 403
E   assert 403 == 401
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushSubscriptionLimit" name="test_subscribe_endpoint_exists" time="0.398"><failure message="AssertionError: Unexpected status: 403: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;eb3ad17c-00ba-4b7b-b060-2da68122b18d&quot;}&#10;assert 403 in [200, 201, 400, 500]&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:383: in test_subscribe_endpoint_exists
    assert response.status_code in [200, 201, 400, 500], f"Unexpected status: {response.status_code}: {response.text}"
E   AssertionError: Unexpected status: 403: {"error":"Not authenticated","detail":"Not authenticated","request_id":"eb3ad17c-00ba-4b7b-b060-2da68122b18d"}
E   assert 403 in [200, 201, 400, 500]
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_push_and_identity_bugs.TestPushCleanup" name="test_cleanup_endpoint_exists" time="0.381"><failure message="AssertionError: Expected 200, got 403: {&quot;error&quot;:&quot;Not authenticated&quot;,&quot;detail&quot;:&quot;Not authenticated&quot;,&quot;request_id&quot;:&quot;f85bb60c-045b-4f37-97af-bb82a0371e8b&quot;}&#10;assert 403 == 200&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_push_and_identity_bugs.py:409: in test_cleanup_endpoint_exists
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 403: {"error":"Not authenticated","detail":"Not authenticated","request_id":"f85bb60c-045b-4f37-97af-bb82a0371e8b"}
E   assert 403 == 200
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase></testsuite></testsuites>